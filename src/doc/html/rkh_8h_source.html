<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>RKH: rkh.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">RKH
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">rkh.h</div>  </div>
</div>
<div class="contents">
<a href="rkh_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> *  file: rkh.h</span>
<a name="l00003"></a>00003 <span class="comment"> *  Last updated for version: 1.0.00</span>
<a name="l00004"></a>00004 <span class="comment"> *  Date of the last update:  May 28, 2010</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> *  Copyright (C) 2010 Leandro Francucci. All rights reserved.</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> *  RKH is free software: you can redistribute it and/or modify</span>
<a name="l00009"></a>00009 <span class="comment"> *  it under the terms of the GNU General Public License as published by</span>
<a name="l00010"></a>00010 <span class="comment"> *  the Free Software Foundation, either version 3 of the License, or</span>
<a name="l00011"></a>00011 <span class="comment"> *  (at your option) any later version.</span>
<a name="l00012"></a>00012 <span class="comment"> *</span>
<a name="l00013"></a>00013 <span class="comment"> *  RKH is distributed in the hope that it will be useful,</span>
<a name="l00014"></a>00014 <span class="comment"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00015"></a>00015 <span class="comment"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00016"></a>00016 <span class="comment"> *  GNU General Public License for more details.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> *  You should have received a copy of the GNU General Public License</span>
<a name="l00019"></a>00019 <span class="comment"> *  along with RKH, see copying.txt file.</span>
<a name="l00020"></a>00020 <span class="comment"> *</span>
<a name="l00021"></a>00021 <span class="comment"> * Contact information:</span>
<a name="l00022"></a>00022 <span class="comment"> * RKH web site:    http://</span>
<a name="l00023"></a>00023 <span class="comment"> * e-mail:          francuccilea@gmail.com</span>
<a name="l00024"></a>00024 <span class="comment"> */</span>
<a name="l00025"></a>00025 
<a name="l00036"></a>00036 <span class="preprocessor">#ifndef __RKH_H__</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span><span class="preprocessor">#define __RKH_H__</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &quot;<a class="code" href="rkhitl_8h.html" title="RKH engine interface.">rkhitl.h</a>&quot;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &quot;<a class="code" href="rkhrq_8h.html" title="Platform-independent interface for supporting queue (by reference) services.">rkhrq.h</a>&quot;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &quot;<a class="code" href="rkhmp_8h.html" title="Platform-independent interface for supporting fixed-size memory blocks facility.">rkhmp.h</a>&quot;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;<a class="code" href="rkhassert_8h.html" title="Assert definitions.">rkhassert.h</a>&quot;</span>
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 
<a name="l00056"></a><a class="code" href="rkh_8h.html#ae6f82e01bd1cf3cdb5774c9c5c043128">00056</a> <span class="preprocessor">#define RKH_MODULE_VERSION( __fname, __version )                \</span>
<a name="l00057"></a>00057 <span class="preprocessor">                        static RKHROM char *const m_version = #__version;</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span>
<a name="l00059"></a>00059 
<a name="l00065"></a><a class="code" href="rkh_8h.html#a3da3e05835b23dd7c7645f0421e3cb9b">00065</a> <span class="preprocessor">#define RKH_MODULE_GET_VERSION()        \</span>
<a name="l00066"></a>00066 <span class="preprocessor">                        ((const char*)m_version);</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span>
<a name="l00068"></a>00068 
<a name="l00078"></a><a class="code" href="rkh_8h.html#a9d0627d4f275b0573a87724095d28695">00078</a> <span class="preprocessor">#define RKH_MODULE_DESC( __fname, __desc )              \</span>
<a name="l00079"></a>00079 <span class="preprocessor">                        static RKHROM char *const m_desc = __desc;</span>
<a name="l00080"></a>00080 <span class="preprocessor"></span>
<a name="l00081"></a>00081 
<a name="l00087"></a><a class="code" href="rkh_8h.html#a17d9fe10cfb8f7cdd535345d5edc5650">00087</a> <span class="preprocessor">#define RKH_MODULE_GET_DESC()       \</span>
<a name="l00088"></a>00088 <span class="preprocessor">                        ((const char*)m_desc)</span>
<a name="l00089"></a>00089 <span class="preprocessor"></span>
<a name="l00090"></a>00090 
<a name="l00091"></a>00091 <span class="preprocessor">#if RKH_EN_NATIVE_DYN_EVENT == 1 &amp;&amp; RKH_EN_DOXYGEN == 0</span>
<a name="l00092"></a>00092 <span class="preprocessor"></span>
<a name="l00093"></a>00093 <span class="preprocessor">    #define RKH_DYNE_TYPE           RKHMP_T</span>
<a name="l00094"></a>00094 <span class="preprocessor"></span>
<a name="l00095"></a>00095 <span class="preprocessor">    #define RKH_DYNE_INIT( mp, sstart, ssize, esize )   \</span>
<a name="l00096"></a>00096 <span class="preprocessor">                rkh_mp_init( (mp),sstart,(rkhui16_t)ssize,(RKH_MPBS_T)esize )</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span>
<a name="l00098"></a>00098 <span class="preprocessor">    #define RKH_DYNE_GET_ESIZE( mp )                    \</span>
<a name="l00099"></a>00099 <span class="preprocessor">                ( (mp)-&gt;bsize )</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span>
<a name="l00101"></a>00101 <span class="preprocessor">    #define RKH_DYNE_GET( mp, e )                       \</span>
<a name="l00102"></a>00102 <span class="preprocessor">                ( (e) = (RKHEVT_T*)rkh_mp_get( (mp) ) )</span>
<a name="l00103"></a>00103 <span class="preprocessor"></span>
<a name="l00104"></a>00104 <span class="preprocessor">    #define RKH_DYNE_PUT( mp, e )                       \</span>
<a name="l00105"></a>00105 <span class="preprocessor">                ( rkh_mp_put( (mp), e ) )</span>
<a name="l00106"></a>00106 <span class="preprocessor"></span>
<a name="l00107"></a>00107 <span class="preprocessor">#endif</span>
<a name="l00108"></a>00108 <span class="preprocessor"></span>
<a name="l00109"></a>00109 
<a name="l00120"></a>00120 <span class="keyword">extern</span> <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *<a class="code" href="rkh_8h.html#a3a9318a6a79d7b808df2f75351ba0286" title="Priority arranged table of registered SMA.">rkh_sptbl</a>[ <a class="code" href="rkhcfg_8h.html#a50932f9dc1013e52965586562192eec6">RKH_MAX_SMA</a> ];
<a name="l00121"></a>00121 
<a name="l00122"></a>00122 
<a name="l00129"></a>00129 <span class="keyword">extern</span> RKHROM rkhui8_t <a class="code" href="rkh_8h.html#acdd6484fff4fc6ae3c4106f9492ec421" title="rkh_maptbl[] is a table in ROM, used to equate an index from 0 to 7 to a bit mask.">rkh_maptbl</a>[ 8 ];
<a name="l00130"></a>00130 
<a name="l00131"></a>00131 
<a name="l00138"></a>00138 <span class="keyword">extern</span> RKHROM rkhui8_t <a class="code" href="rkh_8h.html#a901f2d3f2f36ef9da34c0b5f1fd77ff8" title="rkh_unmaptbl[] is a table in ROM, used to return the bit position of the highest priority bit set - a...">rkh_unmaptbl</a>[ 256 ];
<a name="l00139"></a>00139 
<a name="l00140"></a>00140 
<a name="l00146"></a>00146 <span class="keyword">extern</span> RKHROM <span class="keywordtype">char</span> <a class="code" href="rkh_8h.html#a8f2606f345f93aaea0cfe3d68b2985c1" title="String describing the RKH version.">rkh_version</a>[];
<a name="l00147"></a>00147 
<a name="l00148"></a>00148 
<a name="l00154"></a>00154 <span class="keyword">extern</span> <a class="code" href="rkhitl_8h.html#a34d498dac1165ba1d4ea7dbe71ef7411" title="Defines the data type of the fixed-size memory block for dynamic event support.">RKH_DYNE_TYPE</a> <a class="code" href="rkh_8h.html#ad195de601474eff0a9fc06dc41500a2e" title="Event pool list.">rkheplist</a>[ <a class="code" href="rkhcfg_8h.html#a5e198fc8d2c0fefbca08d0f2231d37e1">RKH_MAX_EPOOL</a> ];
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 
<a name="l00170"></a><a class="code" href="rkh_8h.html#a0a70ee0cbf5b1738be4c9463c529ce72">00170</a> <span class="preprocessor">#define ELSE        rkh_else</span>
<a name="l00171"></a>00171 <span class="preprocessor"></span>
<a name="l00172"></a>00172 
<a name="l00198"></a><a class="code" href="rkh_8h.html#acc24b2221cd374e66732a09fb24b56ce">00198</a> <span class="preprocessor">#define RKH_CREATE_COMP_STATE( name,id,en,ex,parent,defchild,history )  \</span>
<a name="l00199"></a>00199 <span class="preprocessor">                                                                        \</span>
<a name="l00200"></a>00200 <span class="preprocessor">                                extern RKHROM RKHTR_T name##_trtbl[];   \</span>
<a name="l00201"></a>00201 <span class="preprocessor">                                                                        \</span>
<a name="l00202"></a>00202 <span class="preprocessor">                                RKHROM RKHSCMP_T name =                 \</span>
<a name="l00203"></a>00203 <span class="preprocessor">                                {                                       \</span>
<a name="l00204"></a>00204 <span class="preprocessor">                                    MKBASE(RKH_COMPOSITE,id),           \</span>
<a name="l00205"></a>00205 <span class="preprocessor">                                    MKST(en,ex,parent),                 \</span>
<a name="l00206"></a>00206 <span class="preprocessor">                                    MKCOMP(name,defchild,history)       \</span>
<a name="l00207"></a>00207 <span class="preprocessor">                                }</span>
<a name="l00208"></a>00208 <span class="preprocessor"></span>
<a name="l00209"></a>00209 
<a name="l00264"></a><a class="code" href="rkh_8h.html#a3567a7f91a5dc5759747dc8528357b44">00264</a> <span class="preprocessor">#define RKH_CREATE_BASIC_STATE( name,id,en,ex,parent,prepro )           \</span>
<a name="l00265"></a>00265 <span class="preprocessor">                                                                        \</span>
<a name="l00266"></a>00266 <span class="preprocessor">                                extern RKHROM RKHTR_T name##_trtbl[];   \</span>
<a name="l00267"></a>00267 <span class="preprocessor">                                                                        \</span>
<a name="l00268"></a>00268 <span class="preprocessor">                                RKHROM RKHSBSC_T name =                 \</span>
<a name="l00269"></a>00269 <span class="preprocessor">                                {                                       \</span>
<a name="l00270"></a>00270 <span class="preprocessor">                                    MKBASE(RKH_BASIC,id),               \</span>
<a name="l00271"></a>00271 <span class="preprocessor">                                    MKST(en,ex,parent),                 \</span>
<a name="l00272"></a>00272 <span class="preprocessor">                                    MKBASIC(name,prepro)                \</span>
<a name="l00273"></a>00273 <span class="preprocessor">                                }</span>
<a name="l00274"></a>00274 <span class="preprocessor"></span>
<a name="l00304"></a><a class="code" href="rkh_8h.html#ade7387dead9112bd67580de3350aee51">00304</a> <span class="preprocessor">#define RKH_CREATE_COND_STATE( name,id )                                \</span>
<a name="l00305"></a>00305 <span class="preprocessor">                                                                        \</span>
<a name="l00306"></a>00306 <span class="preprocessor">                                extern RKHROM RKHTR_T name##_trtbl[];   \</span>
<a name="l00307"></a>00307 <span class="preprocessor">                                                                        \</span>
<a name="l00308"></a>00308 <span class="preprocessor">                                RKHROM RKHSCOND_T name =                \</span>
<a name="l00309"></a>00309 <span class="preprocessor">                                {                                       \</span>
<a name="l00310"></a>00310 <span class="preprocessor">                                    MKBASE(RKH_CONDITIONAL,id),         \</span>
<a name="l00311"></a>00311 <span class="preprocessor">                                    name##_trtbl                        \</span>
<a name="l00312"></a>00312 <span class="preprocessor">                                }</span>
<a name="l00313"></a>00313 <span class="preprocessor"></span>
<a name="l00314"></a>00314 
<a name="l00335"></a><a class="code" href="rkh_8h.html#a9f73c81d95a4bd5bec21e10ea6f05add">00335</a> <span class="preprocessor">#define RKH_CREATE_JUNCTION_STATE( name,id,action,target )              \</span>
<a name="l00336"></a>00336 <span class="preprocessor">                                                                        \</span>
<a name="l00337"></a>00337 <span class="preprocessor">                                RKHROM RKHSJUNC_T name =                \</span>
<a name="l00338"></a>00338 <span class="preprocessor">                                {                                       \</span>
<a name="l00339"></a>00339 <span class="preprocessor">                                    MKBASE(RKH_JUNCTION,id),            \</span>
<a name="l00340"></a>00340 <span class="preprocessor">                                    action, target                      \</span>
<a name="l00341"></a>00341 <span class="preprocessor">                                }</span>
<a name="l00342"></a>00342 <span class="preprocessor"></span>
<a name="l00343"></a>00343 
<a name="l00363"></a><a class="code" href="rkh_8h.html#a49995aa34cddd68fcc6416655ca408f8">00363</a> <span class="preprocessor">#define RKH_CREATE_DEEP_HISTORY_STATE( name,id,parent )                 \</span>
<a name="l00364"></a>00364 <span class="preprocessor">                                                                        \</span>
<a name="l00365"></a>00365 <span class="preprocessor">                        static RKHROM RKHST_T *ram##name;               \</span>
<a name="l00366"></a>00366 <span class="preprocessor">                                                                        \</span>
<a name="l00367"></a>00367 <span class="preprocessor">                        RKHROM RKHSHIST_T name =                        \</span>
<a name="l00368"></a>00368 <span class="preprocessor">                        {                                               \</span>
<a name="l00369"></a>00369 <span class="preprocessor">                            MKBASE(RKH_DHISTORY,id),                    \</span>
<a name="l00370"></a>00370 <span class="preprocessor">                            (RKHROM struct rkhst_t *)parent,&amp;ram##name  \</span>
<a name="l00371"></a>00371 <span class="preprocessor">                        }</span>
<a name="l00372"></a>00372 <span class="preprocessor"></span>
<a name="l00373"></a>00373 
<a name="l00393"></a><a class="code" href="rkh_8h.html#a7a5376dd9929642f5b6e31def6d92bb4">00393</a> <span class="preprocessor">#define RKH_CREATE_SHALLOW_HISTORY_STATE( name,id,parent )              \</span>
<a name="l00394"></a>00394 <span class="preprocessor">                                                                        \</span>
<a name="l00395"></a>00395 <span class="preprocessor">                        static RKHROM RKHST_T *ram##name;               \</span>
<a name="l00396"></a>00396 <span class="preprocessor">                                                                        \</span>
<a name="l00397"></a>00397 <span class="preprocessor">                        RKHROM RKHSHIST_T name =                        \</span>
<a name="l00398"></a>00398 <span class="preprocessor">                        {                                               \</span>
<a name="l00399"></a>00399 <span class="preprocessor">                            MKBASE(RKH_SHISTORY,id),                    \</span>
<a name="l00400"></a>00400 <span class="preprocessor">                            (RKHROM struct rkhst_t *)parent,&amp;ram##name  \</span>
<a name="l00401"></a>00401 <span class="preprocessor">                        }</span>
<a name="l00402"></a>00402 <span class="preprocessor"></span>
<a name="l00403"></a>00403 
<a name="l00457"></a><a class="code" href="rkh_8h.html#a5a859233f4fab22d4b321c6ac122d382">00457</a> <span class="preprocessor">#define RKH_CREATE_SUBMACHINE_STATE( name,id,en,ex,parent,sbm )         \</span>
<a name="l00458"></a>00458 <span class="preprocessor">                                                                        \</span>
<a name="l00459"></a>00459 <span class="preprocessor">                            extern RKHROM RKHEXPCN_T name##_exptbl[];   \</span>
<a name="l00460"></a>00460 <span class="preprocessor">                            extern RKHROM RKHTR_T name##_trtbl[];       \</span>
<a name="l00461"></a>00461 <span class="preprocessor">                                                                        \</span>
<a name="l00462"></a>00462 <span class="preprocessor">                            RKHROM RKHSSBM_T name =                     \</span>
<a name="l00463"></a>00463 <span class="preprocessor">                            {                                           \</span>
<a name="l00464"></a>00464 <span class="preprocessor">                                MKBASE(RKH_SUBMACHINE,id),              \</span>
<a name="l00465"></a>00465 <span class="preprocessor">                                MKST(en,ex,parent),                     \</span>
<a name="l00466"></a>00466 <span class="preprocessor">                                MKSBM(name,sbm)                         \</span>
<a name="l00467"></a>00467 <span class="preprocessor">                            }</span>
<a name="l00468"></a>00468 <span class="preprocessor"></span>
<a name="l00469"></a>00469 
<a name="l00493"></a><a class="code" href="rkh_8h.html#aa3f5f174502580a9edfb478612ef55a4">00493</a> <span class="preprocessor">#define RKH_CREATE_EX_CNNPNT_TABLE( name )                              \</span>
<a name="l00494"></a>00494 <span class="preprocessor">                                RKHROM RKHEXPCN_T name##_exptbl[]={</span>
<a name="l00495"></a>00495 <span class="preprocessor"></span>
<a name="l00496"></a>00496 
<a name="l00542"></a><a class="code" href="rkh_8h.html#a52faf20342a2e105698b7b4c50952ba1">00542</a> <span class="preprocessor">#define RKH_EX_CNNPNT( name, expnt, act, ts )       \</span>
<a name="l00543"></a>00543 <span class="preprocessor">                                {act, (RKHROM struct rkhst_t *)ts}</span>
<a name="l00544"></a>00544 <span class="preprocessor"></span>
<a name="l00545"></a>00545 
<a name="l00567"></a><a class="code" href="rkh_8h.html#a2b628df718de30cfd38b26a23155a84a">00567</a> <span class="preprocessor">#define RKH_END_EX_CNNPNT_TABLE     };</span>
<a name="l00568"></a>00568 <span class="preprocessor"></span>
<a name="l00569"></a>00569 
<a name="l00596"></a><a class="code" href="rkh_8h.html#ab2920eb4e81a05b2002a9f49a44a3394">00596</a> <span class="preprocessor">#define RKH_EN_CNNPNT( name, enpnt, subm )              \</span>
<a name="l00597"></a>00597 <span class="preprocessor">                                                        \</span>
<a name="l00598"></a>00598 <span class="preprocessor">                            RKHROM RKHSENP_T name =     \</span>
<a name="l00599"></a>00599 <span class="preprocessor">                            {                           \</span>
<a name="l00600"></a>00600 <span class="preprocessor">                                MKBASE(RKH_ENPOINT,id), \</span>
<a name="l00601"></a>00601 <span class="preprocessor">                                MKENP(enpnt,subm)       \</span>
<a name="l00602"></a>00602 <span class="preprocessor">                            }</span>
<a name="l00603"></a>00603 <span class="preprocessor"></span>
<a name="l00604"></a>00604 
<a name="l00631"></a><a class="code" href="rkh_8h.html#a72b7267205521b0be8f113e8832a9440">00631</a> <span class="preprocessor">#define RKH_CREATE_REF_SUBMACHINE( name,id,defchild,iact )              \</span>
<a name="l00632"></a>00632 <span class="preprocessor">                                                                        \</span>
<a name="l00633"></a>00633 <span class="preprocessor">                                static RKHROM RKHST_T *rdyp_##name;     \</span>
<a name="l00634"></a>00634 <span class="preprocessor">                                                                        \</span>
<a name="l00635"></a>00635 <span class="preprocessor">                                RKHROM RKHRSM_T name =                  \</span>
<a name="l00636"></a>00636 <span class="preprocessor">                                {                                       \</span>
<a name="l00637"></a>00637 <span class="preprocessor">                                    MKBASE(RKH_REF_SUBMACHINE,id),      \</span>
<a name="l00638"></a>00638 <span class="preprocessor">                                    MKMCH(defchild,iact,name)           \</span>
<a name="l00639"></a>00639 <span class="preprocessor">                                }</span>
<a name="l00640"></a>00640 <span class="preprocessor"></span>
<a name="l00641"></a>00641 
<a name="l00684"></a><a class="code" href="rkh_8h.html#a6fe42cdda8a3148e73f7eede949df02b">00684</a> <span class="preprocessor">#define RKH_CREATE_REF_EXPNT( name, ix, subm )          \</span>
<a name="l00685"></a>00685 <span class="preprocessor">                                                        \</span>
<a name="l00686"></a>00686 <span class="preprocessor">                            RKHROM RKHSEXP_T name =     \</span>
<a name="l00687"></a>00687 <span class="preprocessor">                            {                           \</span>
<a name="l00688"></a>00688 <span class="preprocessor">                                MKBASE(RKH_EXPOINT,0),  \</span>
<a name="l00689"></a>00689 <span class="preprocessor">                                ix, subm                \</span>
<a name="l00690"></a>00690 <span class="preprocessor">                            }</span>
<a name="l00691"></a>00691 <span class="preprocessor"></span>
<a name="l00692"></a>00692 
<a name="l00724"></a><a class="code" href="rkh_8h.html#a7d5fb4c1cd362a3be3f07db0fc31caac">00724</a> <span class="preprocessor">#define RKH_CREATE_REF_ENPNT( name, act, ts, subm  )                    \</span>
<a name="l00725"></a>00725 <span class="preprocessor">                                                                        \</span>
<a name="l00726"></a>00726 <span class="preprocessor">                                RKHROM RKHENPCN_T name =                \</span>
<a name="l00727"></a>00727 <span class="preprocessor">                                {                                       \</span>
<a name="l00728"></a>00728 <span class="preprocessor">                                    act, (RKHROM struct rkhst_t *)ts    \</span>
<a name="l00729"></a>00729 <span class="preprocessor">                                }</span>
<a name="l00730"></a>00730 <span class="preprocessor"></span>
<a name="l00731"></a>00731 
<a name="l00755"></a><a class="code" href="rkh_8h.html#aef55bd044383009972f38c332f8210a9">00755</a> <span class="preprocessor">#define RKH_CREATE_TRANS_TABLE( name )                                  \</span>
<a name="l00756"></a>00756 <span class="preprocessor">                                                                        \</span>
<a name="l00757"></a>00757 <span class="preprocessor">                                RKHROM RKHTR_T name##_trtbl[]={</span>
<a name="l00758"></a>00758 <span class="preprocessor"></span>
<a name="l00759"></a>00759 
<a name="l00789"></a><a class="code" href="rkh_8h.html#ab0fc2ccb4b73d57ea0c0f478353a00f6">00789</a> <span class="preprocessor">#define RKH_TRREG( e, g, a, t ) { e, g, a, t }</span>
<a name="l00790"></a>00790 <span class="preprocessor"></span>
<a name="l00791"></a>00791 
<a name="l00814"></a><a class="code" href="rkh_8h.html#ac257d157f98ef172e5e8c8725a293bdf">00814</a> <span class="preprocessor">#define RKH_TRINT( e, g, a )    { e, g, a, NULL }</span>
<a name="l00815"></a>00815 <span class="preprocessor"></span>
<a name="l00816"></a>00816 
<a name="l00838"></a><a class="code" href="rkh_8h.html#a0e90290b709c86a39384ea5a4c95ac4f">00838</a> <span class="preprocessor">#define RKH_END_TRANS_TABLE     { RKH_ANY, NULL, NULL, NULL }};</span>
<a name="l00839"></a>00839 <span class="preprocessor"></span>
<a name="l00840"></a>00840 
<a name="l00863"></a><a class="code" href="rkh_8h.html#a57353c7dab6539b0a7ae92142b73ad2e">00863</a> <span class="preprocessor">#define RKH_CREATE_BRANCH_TABLE( name )                             \</span>
<a name="l00864"></a>00864 <span class="preprocessor">                                                                    \</span>
<a name="l00865"></a>00865 <span class="preprocessor">                                RKH_CREATE_TRANS_TABLE( name )</span>
<a name="l00866"></a>00866 <span class="preprocessor"></span>
<a name="l00867"></a>00867 
<a name="l00901"></a><a class="code" href="rkh_8h.html#ad1ebb38b7398d7f4ec60ef3e0922d033">00901</a> <span class="preprocessor">#define RKH_BRANCH( g, a, t )   { 0, g, a, t }</span>
<a name="l00902"></a>00902 <span class="preprocessor"></span>
<a name="l00903"></a>00903 
<a name="l00904"></a>00904 <span class="comment">/*</span>
<a name="l00905"></a>00905 <span class="comment"> *  This macro is internal to RKH and the user application should </span>
<a name="l00906"></a>00906 <span class="comment"> *  not call it.</span>
<a name="l00907"></a>00907 <span class="comment"> */</span>
<a name="l00908"></a>00908 
<a name="l00909"></a>00909 <span class="preprocessor">#define RKH_EBTBL               { RKH_ANY, NULL, NULL, NULL }</span>
<a name="l00910"></a>00910 <span class="preprocessor"></span>
<a name="l00911"></a>00911 
<a name="l00931"></a><a class="code" href="rkh_8h.html#a179912e226da08c982c9e93d77886c53">00931</a> <span class="preprocessor">#define RKH_END_BRANCH_TABLE    RKH_EBTBL};</span>
<a name="l00932"></a>00932 <span class="preprocessor"></span>
<a name="l00933"></a>00933 
<a name="l00939"></a><a class="code" href="rkh_8h.html#af2b1332a21797445c49710b6074ddb9b">00939</a> <span class="preprocessor">#define RKH_ROOT                NULL</span>
<a name="l00940"></a>00940 <span class="preprocessor"></span>
<a name="l00941"></a>00941 
<a name="l00970"></a><a class="code" href="rkh_8h.html#aab4c88b9429479d470bde8e05b2feead">00970</a> <span class="preprocessor">#define RKH_SMA_DCLR( sma )     extern RKHSMA_T *const sma</span>
<a name="l00971"></a>00971 <span class="preprocessor"></span>
<a name="l00972"></a>00972 
<a name="l00983"></a><a class="code" href="rkh_8h.html#ab856423b3e65be3f55b7df3b2984e5fe">00983</a> <span class="preprocessor">#define RKH_DCLR_COMP_STATE     extern RKHROM RKHSCMP_T</span>
<a name="l00984"></a><a class="code" href="rkh_8h.html#a483ad8fd1a11d5b823e58a2884e40f22">00984</a> <span class="preprocessor"></span><span class="preprocessor">#define RKH_DCLR_BASIC_STATE    extern RKHROM RKHSBSC_T</span>
<a name="l00985"></a><a class="code" href="rkh_8h.html#ae15f169feaafe7cf7e335e24e76039b9">00985</a> <span class="preprocessor"></span><span class="preprocessor">#define RKH_DCLR_COND_STATE     extern RKHROM RKHSCOND_T</span>
<a name="l00986"></a><a class="code" href="rkh_8h.html#a2862a673eba565cd2888ca5fb3405a38">00986</a> <span class="preprocessor"></span><span class="preprocessor">#define RKH_DCLR_JUNC_STATE     extern RKHROM RKHSJUNC_T</span>
<a name="l00987"></a><a class="code" href="rkh_8h.html#a042e46c64f90aa08a92db9e9d30e1959">00987</a> <span class="preprocessor"></span><span class="preprocessor">#define RKH_DCLR_DHIST_STATE    extern RKHROM RKHSHIST_T </span>
<a name="l00988"></a><a class="code" href="rkh_8h.html#aa618e2849fbd748f672bd5e0b3b6bb16">00988</a> <span class="preprocessor"></span><span class="preprocessor">#define RKH_DCLR_SHIST_STATE    extern RKHROM RKHSHIST_T</span>
<a name="l00989"></a><a class="code" href="rkh_8h.html#a956285310d9b0cd90c5c9280b197f9fd">00989</a> <span class="preprocessor"></span><span class="preprocessor">#define RKH_DCLR_SUBM_STATE     extern RKHROM RKHSSBM_T</span>
<a name="l00990"></a><a class="code" href="rkh_8h.html#ae64a1788046bd972dd4e2e905c1d67ea">00990</a> <span class="preprocessor"></span><span class="preprocessor">#define RKH_DCLR_REF_SUBM       extern RKHROM RKHRSM_T</span>
<a name="l00991"></a><a class="code" href="rkh_8h.html#abbe3ba8a8a32cc7359ce715568e44cae">00991</a> <span class="preprocessor"></span><span class="preprocessor">#define RKH_DCLR_ENPNT          extern RKHROM RKHSENP_T</span>
<a name="l00992"></a><a class="code" href="rkh_8h.html#aaa577ea93366c43f8fa3f801c464ba5d">00992</a> <span class="preprocessor"></span><span class="preprocessor">#define RKH_DCLR_REF_EXPNT      extern RKHROM RKHSEXP_T</span>
<a name="l00993"></a><a class="code" href="rkh_8h.html#a460aedcac6fc4799d4c14a33c2971ead">00993</a> <span class="preprocessor"></span><span class="preprocessor">#define RKH_DCLR_REF_ENPNT      extern RKHROM RKHENPCN_T</span>
<a name="l00994"></a>00994 <span class="preprocessor"></span>
<a name="l01020"></a><a class="code" href="rkh_8h.html#adaee98e4b98dd79ea0ae3f930d695321">01020</a> <span class="preprocessor">#define RKH_DCLR_SM_GLOBAL( sma_t, sm, gob )                \</span>
<a name="l01021"></a>01021 <span class="preprocessor">                                    sma_t * const gob = &amp;s_##sm;</span>
<a name="l01022"></a>01022 <span class="preprocessor"></span>
<a name="l01023"></a>01023 
<a name="l01029"></a><a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3">01029</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l01030"></a>01030 {
<a name="l01036"></a><a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a567323b6c0efa1f3368064615c9d5dcd">01036</a>     <a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a567323b6c0efa1f3368064615c9d5dcd">RKH_OK</a>,
<a name="l01037"></a>01037 
<a name="l01042"></a><a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a0c9fe6c670ea1e83ca5c3a5666ca1181">01042</a>     <a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a0c9fe6c670ea1e83ca5c3a5666ca1181">RKH_INPUT_NOT_FOUND</a>,
<a name="l01043"></a>01043 
<a name="l01049"></a><a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a24fbaf67d8677779b69f3a133ec22772">01049</a>     <a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a24fbaf67d8677779b69f3a133ec22772">RKH_CONDITION_NOT_FOUND</a>,
<a name="l01050"></a>01050 
<a name="l01055"></a><a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3ae46b1cbd592c25a27720783efb3b21f4">01055</a>     <a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3ae46b1cbd592c25a27720783efb3b21f4">RKH_GUARD_FALSE</a>,
<a name="l01056"></a>01056 
<a name="l01061"></a><a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a067ecd2890ffed78d08680c9f029594c">01061</a>     <a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a067ecd2890ffed78d08680c9f029594c">RKH_UNKNOWN_STATE</a>,
<a name="l01062"></a>01062 
<a name="l01067"></a><a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a42666d274d23ded0e35db3b52a6681e8">01067</a>     <a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a42666d274d23ded0e35db3b52a6681e8">RKH_EXCEED_HCAL_LEVEL</a>,
<a name="l01068"></a>01068 
<a name="l01074"></a><a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a654591caeda5861a0c257b5696c330cf">01074</a>     <a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a654591caeda5861a0c257b5696c330cf">RKH_EXCEED_TRC_SEGS</a>,
<a name="l01075"></a>01075 
<a name="l01077"></a><a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3adb6db8102ad27b1b187bc07070669243">01077</a>     <a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3adb6db8102ad27b1b187bc07070669243">RKH_NUM_CODES</a>
<a name="l01078"></a>01078 } <a class="code" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3" title="Return codes from rkh_dispatch() function.">RKH_RCODE_T</a>;
<a name="l01079"></a>01079 
<a name="l01080"></a>01080 
<a name="l01086"></a><a class="code" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7">01086</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l01087"></a>01087 {
<a name="l01093"></a><a class="code" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7af9de2b2b683900d16cf6a78acb458eda">01093</a>     <a class="code" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7af9de2b2b683900d16cf6a78acb458eda">HCAL</a>,
<a name="l01094"></a>01094 
<a name="l01095"></a>01095 
<a name="l01104"></a><a class="code" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7a0338024d4d0d5bffed604c279f8f5550">01104</a>     <a class="code" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7a0338024d4d0d5bffed604c279f8f5550">FLAT</a>,
<a name="l01105"></a>01105 
<a name="l01107"></a><a class="code" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7aac7de3818e7e86853c5306edd63bced3">01107</a>     <a class="code" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7aac7de3818e7e86853c5306edd63bced3">RKH_NUM_HPPTY</a>
<a name="l01108"></a>01108 } <a class="code" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7" title="State machine properties.">RKH_HPPTY_T</a>;
<a name="l01109"></a>01109 
<a name="l01110"></a>01110 
<a name="l01120"></a><a class="code" href="rkh_8h.html#ad92b1f5668618253476e76a58766c87f">01120</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l01121"></a>01121 {
<a name="l01122"></a><a class="code" href="rkh_8h.html#ad92b1f5668618253476e76a58766c87fab2834a90f78254076ef72298dc9e5e95">01122</a>     <a class="code" href="rkh_8h.html#ad92b1f5668618253476e76a58766c87fab2834a90f78254076ef72298dc9e5e95">RKH_GFALSE</a>, 
<a name="l01123"></a><a class="code" href="rkh_8h.html#ad92b1f5668618253476e76a58766c87fafe08c2d352ce11183556bab12489e736">01123</a>     <a class="code" href="rkh_8h.html#ad92b1f5668618253476e76a58766c87fafe08c2d352ce11183556bab12489e736">RKH_GTRUE</a>   
<a name="l01124"></a>01124 } <a class="code" href="rkh_8h.html#ad92b1f5668618253476e76a58766c87f" title="This values are retrived by guard functions.">RKH_GRET_T</a>;
<a name="l01125"></a>01125 
<a name="l01126"></a>01126 
<a name="l01152"></a>01152 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a348c60d5a5c6b1492ca55648e9aeeaf6" title="Initializes the RKH framework.">rkh_init</a>( <span class="keywordtype">void</span> );
<a name="l01153"></a>01153 
<a name="l01154"></a>01154 
<a name="l01210"></a>01210 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a6b8f47b2f288dd0cf2c8b44dd062d509" title="RKH framework is started.">rkh_enter</a>( <span class="keywordtype">void</span> );
<a name="l01211"></a>01211 
<a name="l01212"></a>01212 
<a name="l01243"></a>01243 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#ab18447f196fdd82c3d46617dff71a44c" title="Exit the RKH framework.">rkh_exit</a>( <span class="keywordtype">void</span> );
<a name="l01244"></a>01244 
<a name="l01245"></a>01245 
<a name="l01261"></a>01261 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a7db674272d1231053666dcc21f5fbaba" title="Keep tracks and updates the started timers.">rkh_tim_tick</a>( <span class="keywordtype">void</span> );
<a name="l01262"></a>01262 
<a name="l01263"></a>01263 
<a name="l01325"></a>01325 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a02d78c8f4c9f8e2b9fb0cf57711c1220" title="Initializes and activates a previously created state machine application.">rkh_sma_activate</a>(  <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *sma, <span class="keyword">const</span> <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> **qs, <a class="code" href="rkhrq_8h.html#a9b92c95ab477eb8e6f81dd35e16923a3" title="This data type defines the maximum number of elements that any queue can contain.">RKH_RQNE_T</a> qsize, 
<a name="l01326"></a>01326                         <span class="keywordtype">void</span> *stks, rkhui32_t stksize );
<a name="l01327"></a>01327 
<a name="l01328"></a>01328 
<a name="l01394"></a><a class="code" href="rkh_8h.html#ae6c326c33b1cc4acf2529c628ba8c2aa">01394</a> <span class="preprocessor">#define RKH_SMA_CREATE( sma_t, id, name, prio, ppty, ist, iact, ievt )      \</span>
<a name="l01395"></a>01395 <span class="preprocessor">                                                                            \</span>
<a name="l01396"></a>01396 <span class="preprocessor">    static RKHROM ROMRKH_T rs_##name = MKRRKH(  prio, ppty, id, ist,        \</span>
<a name="l01397"></a>01397 <span class="preprocessor">                                                iact, ievt );               \</span>
<a name="l01398"></a>01398 <span class="preprocessor">    static sma_t s_##name = MKSMA( &amp;rs_##name,ist );                        \</span>
<a name="l01399"></a>01399 <span class="preprocessor">    RKHSMA_T *const name = ( RKHSMA_T* )&amp;s_##name</span>
<a name="l01400"></a>01400 <span class="preprocessor"></span>
<a name="l01401"></a>01401 
<a name="l01430"></a>01430 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a4923f3d24f0f3cea38d598f5b7db203c" title="Terminate a state machine application.">rkh_sma_terminate</a>( <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *sma );
<a name="l01431"></a>01431 
<a name="l01432"></a>01432 
<a name="l01454"></a>01454 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#ac11aaa38aefb41673027b1baa44fdd3b" title="Send an event to a state machine application through a queue using the FIFO policy. A message is a pointer size variable and its use is application specific.">rkh_sma_post_fifo</a>( <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *sma, <span class="keyword">const</span> <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> *e );
<a name="l01455"></a>01455 
<a name="l01456"></a>01456 
<a name="l01478"></a>01478 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a8293c298ff040cc8277e6ded413f8037" title="Send an event to a state machine application through a queue using the LIFO policy. A message is a pointer size variable and its use is application specific.">rkh_sma_post_lifo</a>( <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *sma, <span class="keyword">const</span> <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> *e );
<a name="l01479"></a>01479 
<a name="l01480"></a>01480 
<a name="l01501"></a>01501 <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> *<a class="code" href="rkh_8h.html#af8993801a4f995bafb8870cde439cfb7" title="Get an event from the event queue of an state machine application. The events received are pointer si...">rkh_sma_get</a>( <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *sma );
<a name="l01502"></a>01502 
<a name="l01503"></a>01503 
<a name="l01527"></a>01527 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a5fbaacc4eb0692a0013c31fa2510b076" title="Retrieves performance information for a particular state machine application.">rkh_sma_get_info</a>( <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *sma, <a class="code" href="struct_r_k_h___s_m_a_i___t.html" title="Defines the data structure into which the collected performance information for state machine is stor...">RKH_SMAI_T</a> *psi );
<a name="l01528"></a>01528 
<a name="l01529"></a>01529 
<a name="l01541"></a>01541 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a32a97a1a7b1b3dce657b5c16fbd5d87c" title="Clear performance information for a particular state machine application.">rkh_sma_clear_info</a>( <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *sma );
<a name="l01542"></a>01542 
<a name="l01543"></a>01543 
<a name="l01552"></a>01552 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#aa66015888d344e3f9ebe604817dc19cc" title="Registers a state machine application into the framework, which implies to store a pointer to the SMA...">rkh_sma_register</a>( <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *sma );
<a name="l01553"></a>01553 
<a name="l01554"></a>01554 
<a name="l01563"></a>01563 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#ab7f65892fe1948afc1b76a5f9eb0c8f0" title="Removes the SMA from the priority table, and thus from the framework, by simply replacing the link to...">rkh_sma_unregister</a>( <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *sma );
<a name="l01564"></a>01564 
<a name="l01565"></a>01565 
<a name="l01593"></a>01593 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a994172cec235f0bc4aa32f72e5497621" title="Defer an event to a given separate event queue.">rkh_defer</a>( <a class="code" href="struct_r_k_h_r_q___t.html" title="Defines the data structure used to maintain information about the queue.">RKHRQ_T</a> *q, <span class="keyword">const</span> <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> *e );
<a name="l01594"></a>01594 
<a name="l01595"></a>01595 
<a name="l01615"></a>01615 <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> *<a class="code" href="rkh_8h.html#a1699d08d464d2c77bd9aee5e4e55568e" title="Recall a deferred event from a given event queue.">rkh_recall</a>( <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *sma, <a class="code" href="struct_r_k_h_r_q___t.html" title="Defines the data structure used to maintain information about the queue.">RKHRQ_T</a> *q );
<a name="l01616"></a>01616 
<a name="l01617"></a>01617 
<a name="l01705"></a>01705 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#aafd0b47b3a410c6b89e499b39a28f874" title="Registers a new event pool into the event pool list.">rkh_epool_register</a>( <span class="keywordtype">void</span> *sstart, rkhui32_t ssize, <a class="code" href="rkhevt_8h.html#a97327b17e4be27368f9f6ad66ea1d785">RKHES_T</a> esize );
<a name="l01706"></a>01706 
<a name="l01707"></a>01707 
<a name="l01723"></a>01723 <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> *<a class="code" href="rkh_8h.html#a5588d1004e6041f7d6d6981470cee583" title="Internal RKH implementation of the dynamic event allocator.">rkh_ae</a>( <a class="code" href="rkhevt_8h.html#a97327b17e4be27368f9f6ad66ea1d785">RKHES_T</a> esize, <a class="code" href="rkhevt_8h.html#a8a78cec3a9dfc2336bd084c221e15e10">RKHE_T</a> e );
<a name="l01724"></a>01724 
<a name="l01725"></a>01725 
<a name="l01752"></a><a class="code" href="rkh_8h.html#a66808180348a0a822a0fa46328b7f7d9">01752</a> <span class="preprocessor">#define RKH_ALLOC_EVENT( et, e )                                        \</span>
<a name="l01753"></a>01753 <span class="preprocessor">                        (et*)rkh_ae((RKHES_T)sizeof(et),(RKHE_T)(e))</span>
<a name="l01754"></a>01754 <span class="preprocessor"></span>
<a name="l01755"></a>01755 
<a name="l01783"></a>01783 <span class="preprocessor">#if RKH_EN_DYNAMIC_EVENT == 1</span>
<a name="l01784"></a><a class="code" href="rkh_8h.html#a5a62e6121174abd89d8a77b9ebef0736">01784</a> <span class="preprocessor"></span><span class="preprocessor">    #define RKH_GC( e )             rkh_gc( e )</span>
<a name="l01785"></a>01785 <span class="preprocessor"></span>    <span class="keywordtype">void</span> rkh_gc( <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> *e );
<a name="l01786"></a>01786 <span class="preprocessor">#else</span>
<a name="l01787"></a>01787 <span class="preprocessor"></span><span class="preprocessor">    #define RKH_GC( e )</span>
<a name="l01788"></a>01788 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l01789"></a>01789 <span class="preprocessor"></span>
<a name="l01790"></a>01790 
<a name="l01812"></a><a class="code" href="rkh_8h.html#a1e1ded09fc7d2c30b33a74ebccf1bc3e">01812</a> <span class="preprocessor">#define RKH_SET_STATIC_EVENT( e, es )               \</span>
<a name="l01813"></a>01813 <span class="preprocessor">                                        mksevt( e, es )</span>
<a name="l01814"></a>01814 <span class="preprocessor"></span>
<a name="l01815"></a>01815 
<a name="l01840"></a><a class="code" href="rkh_8h.html#ac2d1fc13a6b019e7967db720d72dfcd8">01840</a> <span class="preprocessor">#define RKH_DCLR_STATIC_EVENT( e, es )                  \</span>
<a name="l01841"></a>01841 <span class="preprocessor">                                        mkievt( e, es )</span>
<a name="l01842"></a>01842 <span class="preprocessor"></span>
<a name="l01843"></a>01843 
<a name="l01858"></a>01858 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a3572f6e590c0480ae6c38cb52591548c" title="When dispatching an event to a SMA the dispatch hook function will be executed.">rkh_hk_dispatch</a>( <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *sma, <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> *e );
<a name="l01859"></a>01859 
<a name="l01860"></a>01860 
<a name="l01874"></a>01874 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#ae9e0cf19deea17d51c606b097376693d" title="When the producer of an event directly posts the event to the event queue of the consumer SMA the rkh...">rkh_hk_signal</a>( <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> *e );
<a name="l01875"></a>01875 
<a name="l01876"></a>01876 
<a name="l01893"></a>01893 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#aa1d038df594d55a40edb5216f93587e1" title="If a timer expires the rkh_hk_timeout() function is called just before the assigned event is directly...">rkh_hk_timeout</a>( <span class="keyword">const</span> <span class="keywordtype">void</span> *t );
<a name="l01894"></a>01894 
<a name="l01895"></a>01895 
<a name="l01907"></a>01907 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a8e824db08ba7430b74762a487804812b" title="This hook function is called just before the RKH takes over control of the application.">rkh_hk_start</a>( <span class="keywordtype">void</span> );
<a name="l01908"></a>01908 
<a name="l01909"></a>01909 
<a name="l01922"></a>01922 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a2a7e209c4a5e7cd493d7e8870b576583" title="This hook function is called just before the RKH returns to the underlying OS/RTOS. Usually, the rkh_hk_exit() is useful when executing clean-up code upon SMA terminate or framework exit.">rkh_hk_exit</a>( <span class="keywordtype">void</span> );
<a name="l01923"></a>01923 
<a name="l01924"></a>01924 
<a name="l01952"></a>01952 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a5edbaf8597b0b92d05d80dfddd891d52" title="An idle hook function will only get executed (with interrupts LOCKED) when there are no SMAs of highe...">rkh_hk_idle</a>( <span class="keywordtype">void</span> );
<a name="l01953"></a>01953 
<a name="l01954"></a>01954 
<a name="l01962"></a>01962 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a395d701b816dd11bdd9835483607ae5f" title="Inits a previously created state machine calling its initializing action.">rkh_init_hsm</a>( <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *sma );
<a name="l01963"></a>01963 
<a name="l01964"></a>01964 
<a name="l01987"></a>01987 HUInt <a class="code" href="rkh_8h.html#ae56c0173d50898325d8e64eac816399b" title="Executes a state machine in a non-preemtive model.">rkh_dispatch</a>( <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *sma, <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> *e );
<a name="l01988"></a>01988 
<a name="l01989"></a>01989 
<a name="l02000"></a><a class="code" href="rkh_8h.html#a959530dcf7a5e0547c3ae9abf503787d">02000</a> <span class="preprocessor">#define rkh_get_cstate_id( sma )                                    \</span>
<a name="l02001"></a>02001 <span class="preprocessor">                                ((RKHBASE_T*)((sma)-&gt;state))-&gt;id    </span>
<a name="l02002"></a>02002 <span class="preprocessor"></span>
<a name="l02003"></a>02003 
<a name="l02011"></a>02011 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a0c5cc7f333fe645313a7830387c1e2f2" title="Erase the history of a state. It can be a shallow or deep history.">rkh_clear_history</a>( RKHROM <a class="code" href="struct_r_k_h_s_h_i_s_t___t.html" title="Describes the history pseudostate.">RKHSHIST_T</a> *h );
<a name="l02012"></a>02012 
<a name="l02013"></a>02013 
<a name="l02050"></a>02050 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a01e6ed5f8d81d1e3ec5bf32d44a4bab6" title="Open the tracing session.">rkh_trc_open</a>( <span class="keywordtype">void</span> );
<a name="l02051"></a>02051 
<a name="l02052"></a>02052 
<a name="l02077"></a>02077 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a82ea03425018b8a70571b3499b70e8d3" title="Close the tracing session.">rkh_trc_close</a>( <span class="keywordtype">void</span> );
<a name="l02078"></a>02078 
<a name="l02079"></a>02079 
<a name="l02109"></a>02109 <span class="keywordtype">void</span> <a class="code" href="rkh_8h.html#a40281729b441d54e4118a6809540bb2f" title="Platform-dependent macro flushing the trace stream.">rkh_trc_flush</a>( <span class="keywordtype">void</span> );
<a name="l02110"></a>02110 
<a name="l02111"></a>02111 
<a name="l02138"></a>02138 <a class="code" href="rkhtrc_8h.html#a35f6c91d6f5a83e634f757e867290186" title="Defines the size of trace timestamp.">RKHTS_T</a> <a class="code" href="rkh_8h.html#ac289dc76e3dc4fdc23691782caa3aab9" title="Retrieves a timestamp to be placed in a trace event.">rkh_trc_getts</a>( <span class="keywordtype">void</span> );
<a name="l02139"></a>02139 
<a name="l02140"></a>02140 
<a name="l02141"></a>02141 <span class="preprocessor">#endif</span>
</pre></div></div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 9 2012 13:05:35 for RKH by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
