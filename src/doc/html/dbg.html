<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>RKH: Tracing tool</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">RKH
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Tracing tool </div>  </div>
</div>
<div class="contents">
<div class="textblock"><div class="image">
<img src="rkh_bunner.jpg" alt="rkh_bunner.jpg"/>
</div>
<p>Prev: <a class="el" href="index.html#main_page">Home</a> <br/>
 Next: <a class="el" href="index.html#Download">Download</a></p>
<p>When a program needs to be traced, it has to generate some information each time it reaches a "significant step" (certain instruction in the program's source code). In the standard terminology, this step is called a trace point, and the tracing information which is generated at that point is called a trace event. A program containing one or more of this trace points is named instrumented application.</p>
<p>The definition of events and the mapping between these and their corresponding names is hard-coded in the RKH implementation. Therefore, these events are common for all the state machine applications and never change (they are always traced). The trace events are associated with a integer value and are explicity listed and defined (enumerated) as shown below in this file.</p>
<p>The standard defines that the trace system has to store some information for each trace event (also named arguments) being generated, including, at least, the following:</p>
<ul>
<li>the trace event identifier (<a class="el" href="rkhtrc_8h.html#a4705ca08d69d80441ecb18b0c9f36c8a" title="RKH trace events.">RKH_TRC_EVENTS</a> enumerated list),</li>
<li>a timestamp (optional),</li>
<li>any extra data that the system wants to associate with the event (optional).</li>
</ul>
<p>When the system or an application trace an event, all the information related to it has to be stored somewhere before it can be retrieved, in order to be analyzed. This place is a trace stream. Formally speaking, a trace stream is defined as a non-persistent, internal (opaque) data object containing a sequence of trace events plus some internal information to interpret those trace events.</p>
<p>Also, the streams support runtime filtering. The application can define and apply a filter to a trace stream. Basically, the filter establishes which event types the stream is accepting (and hence storing) and which are not. Therefore, trace events corresponding to types which are filtered out from a certain stream will not be stored in the stream. The stream in the system can potentially be applied a different filter. This filter can be applied, removed or changed at any time.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="rkhtrc_8h.html#a4705ca08d69d80441ecb18b0c9f36c8a" title="RKH trace events.">RKH_TRC_EVENTS</a> the enumerated list of RKH trace events. </dd></dl>
<p><br/>
 This section includes:</p>
<ul>
<li><a class="el" href="dbg.html#tre">Trace event structure</a></li>
<li><a class="el" href="dbg.html#trcfg">Trace tool configuration</a></li>
<li><a class="el" href="dbg.html#trfn">Implementing the trace session support</a></li>
<li><a class="el" href="dbg.html#trfil">Using runtime trace filters</a></li>
<li><a class="el" href="dbg.html#trtbl">Trace event table</a></li>
<li><a class="el" href="dbg.html#trtrazer">TRAZER - The fundamental RKH's tracing tool</a></li>
</ul>
<hr/>
 <h2><a class="anchor" id="tre"></a>
Trace event structure</h2>
<p><em>RKH trace event structure</em></p>
<div class="fragment"><pre class="fragment">    (1) <a class="code" href="rkhtrc_8h.html#a98d9e56be52a2a45a7d4dc1450d1b2ad">RKH_TRC_BEGIN</a>( group, event )   \
    (2)     RKH_TRC_ARG0( arg0 );       \
    (3)     RKH_TRC_ARG1( arg1 );       \
    (4)     RKH_TRC_....( ... );        \
    (5) <a class="code" href="rkhtrc_8h.html#a0be511bbd5ae9c41cff231804681c3de">RKH_TRC_END</a>()
</pre></div><ul>
<li>(1,5) Each trace event always begins with the macro <a class="el" href="rkhtrc_8h.html#a98d9e56be52a2a45a7d4dc1450d1b2ad">RKH_TRC_BEGIN()</a> and ends with the matching macro <a class="el" href="rkhtrc_8h.html#a0be511bbd5ae9c41cff231804681c3de">RKH_TRC_END()</a>. These macros are not terminated with the semicolon. The record-begin macro <a class="el" href="rkhtrc_8h.html#a98d9e56be52a2a45a7d4dc1450d1b2ad">RKH_TRC_BEGIN()</a> takes two arguments. The first argument 'group' is the enumerated group (<a class="el" href="rkhtrc_8h.html#aefcd4080db2413c984279dca9f0246b7" title="RKH group of trace events.">RKH_TRC_GROUPS</a>) and the second argument 'event' is the trace event ID. Both arguments are used in the on/off filter. The runtime filter is optional and could be enabled or disabled with the <a class="el" href="rkhcfg_8h.html#a21d46721322d9d87b72327d71797c94f">RKH_TRC_RUNTIME_FILTER</a> in the <b><a class="el" href="rkhcfg_8h.html" title="RKH user configuration.">rkhcfg.h</a></b> file. This pair of macros locks interrupts at the beginning and unlocks at the end of each record. </li>
<li>(2-4) Sandwiched between these two macros are the argument-generating macros that actually insert individual event argument elements into the trace stream.</li>
</ul>
<p>Each trace event and its arguments are placed in the trace stream like a simple data protocol frame. The protocol has been specifically designed to simplify the data management overhead in the target yet allow detection of any data dropouts due to the trace buffer overruns. The protocol has not only provisions for detecting gaps in the data and other errors but allows for instantaneous resynchronization after any error, to minimize data loss. [MS]</p>
<p><em>Frame</em> </p>
<div class="fragment"><pre class="fragment">      | ...               |
  (1) | event ID          | 1-byte
  (2) | sequence number   | 1-byte
  (3) | timestamp         | 2,4-bytes
  (4) | args              | n-byte
  (5) | checksum          | 1-byte
  (6) | flag              | 1-byte
      | ...               |
</pre></div><ul>
<li>(1) Each frame starts with the <b>trace event ID</b> byte, which is one of the predefined RKH records or an application-specific record.</li>
<li>(2) Following the <b>sequence number</b> is the sequence number byte. The target component increments this number for every frame inserted into the stream. The sequence number allows the trazer tool to detect any data discontinuities. If the <a class="el" href="rkhcfg_8h.html#af7c0f4d0fca41d244dc0d41cfad7300e">RKH_TRC_EN_NSEQ</a> is set to 1 then RKH will add to the trace record the sequence number.</li>
<li>(3) Following the sequence number is the <b>timestamp</b>. The number of bytes used by the timestamp is configurable by the macro <a class="el" href="rkhcfg_8h.html#a7578c16664c9e40b84a22e10ec3d44f3">RKH_TRC_SIZEOF_TSTAMP</a>. If the <a class="el" href="rkhcfg_8h.html#a293a5e3a0cb5a241c64793f06ac653d9">RKH_TRC_EN_TSTAMP</a> is set to 1 then RKH will add to the trace record the timestamp field.</li>
<li>(4) Following the timestamp is zero or more data bytes for <b>args</b>.</li>
<li>(5) Following the data is the <b>checksum</b> byte. The checksum is computed over the sequence number, the trace event ID, and all the data bytes. If the <a class="el" href="rkhcfg_8h.html#a24065b97a16aeb6cca1b822764d7a35c">RKH_TRC_EN_CHK</a> is set to 1 then RKH will add to the trace record a checksum byte.</li>
<li>(6) Following the checksum is the <b>flag</b> byte, which delimits the frame. The flag is the 0x7E. Only one flag is inserted between frames.</li>
</ul>
<p>To avoid confusing unintentional flag bytes that can naturally occur in the data stream with an intentionally sent flag, the protocol uses a technique known as byte stuffing or escaping to make the flag bytes transparent during the transmission. Whenever the transmitter encounters a flag byte in the data, it inserts a 2-byte escape sequence to the output stream. The first byte is the escape byte, defined as binary 0x7D. The second byte is the original byte XOR-ed with 0x20. The transmitter computes the checksum over the sequence number, the trace event ID, and all data bytes before performing any byte stuffing.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="rkhtrc_8h.html#a51687ed69015834201c9962ab611a291" title="Insert the trace event header in the stream.">RKH_TRC_HDR()</a>, <a class="el" href="rkhtrc_8h.html#a0be511bbd5ae9c41cff231804681c3de">RKH_TRC_END()</a>, <a class="el" href="rkhtrc_8h.html#a78908762cf054d5c1a711e5d3ae3d20c" title="Inserts the previously calculated checksum as: checksum = 0 - sum mod-256 -&gt; ~(sum mod-256) + 1...">RKH_TRC_CHK()</a>. </dd></dl>
<hr/>
 <h2><a class="anchor" id="trcfg"></a>
Trace tool configuration</h2>
<p>First of all, RKH has a set of configuration options related to trace tool facility, which an user that require this feature must be properly configure in the <b><a class="el" href="rkhcfg_8h.html" title="RKH user configuration.">rkhcfg.h</a></b> header file.</p>
<ul>
<li>Define the macro <b>RKH_TRC_EN</b> <p>If the <a class="el" href="rkhcfg_8h.html#a1a11f723b627bc6f80a5f0f3f7fcebbb">RKH_TRC_EN</a> is set to 1 then RKH will include the trace facility. </p>
 </li>
<li>Define the macro <b>RKH_TRC_MAX_EVENTS</b> <p>Specify the maximum number of trace events, this number is direclty related with the <a class="el" href="rkhtrc_8h.html#a4705ca08d69d80441ecb18b0c9f36c8a" title="RKH trace events.">RKH_TRC_EVENTS</a> enumeration. The smaller this number, the lower the RAM consumption. See <code><a class="el" href="rkhtrc_8h.html#a02547388aafb3159679512f99d3b42e1" title="Filter table of trace events.">trceftbl</a></code> table. </p>
 </li>
<li>Define the macro <b>RKH_TRC_RUNTIME_FILTER</b> <p>If the <a class="el" href="rkhcfg_8h.html#a21d46721322d9d87b72327d71797c94f">RKH_TRC_RUNTIME_FILTER</a> is set to 1 then RKH will include the runtime trace filter facility. When <a class="el" href="rkhcfg_8h.html#a21d46721322d9d87b72327d71797c94f">RKH_TRC_RUNTIME_FILTER</a> is enabled RKH also will automatically define <a class="el" href="rkhtrc_8h.html#a9387ef53b10bb4ac4a9297dbea049054" title="Suppress all trace events from a specific group.">RKH_FILTER_ON_GROUP()</a>, <a class="el" href="rkhtrc_8h.html#af8281a1c79d543f23ff09a33ed3d6efb" title="Emit all trace events from a specific group.">RKH_FILTER_OFF_GROUP()</a>, <a class="el" href="rkhtrc_8h.html#a6a34d237fcca3526f478ce6eb5a31900" title="Suppress one trace events from a specific group.">RKH_FILTER_ON_EVENT()</a>, <a class="el" href="rkhtrc_8h.html#a39abbf4845ab85a377a402b4655526fd" title="Emit one trace events from a specific group.">RKH_FILTER_OFF_EVENT()</a>, <a class="el" href="rkhtrc_8h.html#acd0f533a6270e219993e7c4ffcdcac46" title="Suppress a specific event in a specific group.">RKH_FILTER_ON_GROUP_EVENT()</a>, and <a class="el" href="rkhtrc_8h.html#acff69866423c3151d21223b7ea45e1c8" title="Emit a specific event in a specific group.">RKH_FILTER_OFF_GROUP_EVENT()</a> macros. </p>
 </li>
<li>Define the macro <b>RKH_TRC_ALL</b> <p>If the <a class="el" href="rkhcfg_8h.html#a485d6d3a1e65dc63aa81857dba541997">RKH_TRC_ALL</a> is set to 1 then RKH will include all its own trace records. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_MP</b> <p>If the <a class="el" href="rkhcfg_8h.html#acde5a28204f1a7a303663af32beef0e9">RKH_TRC_EN_MP</a> is set to 1 then RKH will include all trace records related to the native fixed-size memory blocks. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_RQ</b> <p>If the <a class="el" href="rkhcfg_8h.html#acec02c16205d1228e46b2b2bfe52ec0a">RKH_TRC_EN_RQ</a> is set to 1 then RKH will include all trace records related to the native queues. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_SMA</b> <p>If the <a class="el" href="rkhcfg_8h.html#a9dd1a756634cb8bbf7ddae104a8b20c2">RKH_TRC_EN_SMA</a> is set to 1 then RKH will include all trace records related to the state machine applications. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_TIM</b> <p>If the <a class="el" href="rkhcfg_8h.html#a254c4c6b7d6b2c86e2ceb5d78846a8e3">RKH_TRC_EN_TIM</a> is set to 1 then RKH will include all trace records related to the native software timer. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_SM</b> <p>If the <a class="el" href="rkhcfg_8h.html#a04637ebe74b7f5181fcf47058cbb01d2">RKH_TRC_EN_SM</a> is set to 1 then RKH will include all trace records related to the state machine (hierarchical and "flat"). </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_RKH</b> <p>If the <a class="el" href="rkhcfg_8h.html#a92242d21f21820a56c925b74ba9ba0d4">RKH_TRC_EN_RKH</a> is set to 1 then RKH will include all trace records related to the nativenative event framework. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_SM_INIT</b> <p>If the <a class="el" href="rkhcfg_8h.html#ae3f763011730984c14f5253a351ffa7e">RKH_TRC_EN_SM_INIT</a> and <a class="el" href="rkhcfg_8h.html#a04637ebe74b7f5181fcf47058cbb01d2">RKH_TRC_EN_SM</a> are set to 1 then RKH will include the "init state machine" trace record. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_SM_DCH</b> <p>If the <a class="el" href="rkhcfg_8h.html#aa1a46c1d4a01c9b42737b478752c85c9">RKH_TRC_EN_SM_DCH</a> and <a class="el" href="rkhcfg_8h.html#a04637ebe74b7f5181fcf47058cbb01d2">RKH_TRC_EN_SM</a> are set to 1 then RKH will include the "dispatch an event" trace record. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_SM_CLRH</b> <p>If the <a class="el" href="rkhcfg_8h.html#a796496c4ecc39ce55b3ca57b7d4e986f">RKH_TRC_EN_SM_CLRH</a> and <a class="el" href="rkhcfg_8h.html#a04637ebe74b7f5181fcf47058cbb01d2">RKH_TRC_EN_SM</a> are set to 1 then RKH will include the "clear the history pseudostate" trace record. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_SM_TRN</b> <p>If the <a class="el" href="rkhcfg_8h.html#a796496c4ecc39ce55b3ca57b7d4e986f">RKH_TRC_EN_SM_CLRH</a> and <a class="el" href="rkhcfg_8h.html#a04637ebe74b7f5181fcf47058cbb01d2">RKH_TRC_EN_SM</a> are set to 1 then RKH will include the "clear the history pseudostate" trace record. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_SM_STATE</b> <p>If the <a class="el" href="rkhcfg_8h.html#a27f16f3bff5b3200638f16a7e742e5fb">RKH_TRC_EN_SM_STATE</a> and <a class="el" href="rkhcfg_8h.html#a04637ebe74b7f5181fcf47058cbb01d2">RKH_TRC_EN_SM</a> are set to 1 then RKH will include the "final state of transition" trace record. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_SM_ENSTATE</b> <p>If the <a class="el" href="rkhcfg_8h.html#a796496c4ecc39ce55b3ca57b7d4e986f">RKH_TRC_EN_SM_CLRH</a> and <a class="el" href="rkhcfg_8h.html#a04637ebe74b7f5181fcf47058cbb01d2">RKH_TRC_EN_SM</a> are set to 1 then RKH will include the "entry state" trace record. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_SM_EXSTATE</b> <p>If the <a class="el" href="rkhcfg_8h.html#a796496c4ecc39ce55b3ca57b7d4e986f">RKH_TRC_EN_SM_CLRH</a> and <a class="el" href="rkhcfg_8h.html#a04637ebe74b7f5181fcf47058cbb01d2">RKH_TRC_EN_SM</a> are set to 1 then RKH will include the "exit state" trace record. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_SM_NENEX</b> <p>If the <a class="el" href="rkhcfg_8h.html#a796496c4ecc39ce55b3ca57b7d4e986f">RKH_TRC_EN_SM_CLRH</a> and <a class="el" href="rkhcfg_8h.html#a04637ebe74b7f5181fcf47058cbb01d2">RKH_TRC_EN_SM</a> are set to 1 then RKH will include the "number of entry and exit states in the transition" trace record. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_SM_NTRNACT</b> <p>If the <a class="el" href="rkhcfg_8h.html#a796496c4ecc39ce55b3ca57b7d4e986f">RKH_TRC_EN_SM_CLRH</a> and <a class="el" href="rkhcfg_8h.html#a04637ebe74b7f5181fcf47058cbb01d2">RKH_TRC_EN_SM</a> are set to 1 then RKH will include the "number of executed actions in the transition" trace record. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_SM_CSTATE</b> <p>If the <a class="el" href="rkhcfg_8h.html#a796496c4ecc39ce55b3ca57b7d4e986f">RKH_TRC_EN_SM_CLRH</a> and <a class="el" href="rkhcfg_8h.html#a04637ebe74b7f5181fcf47058cbb01d2">RKH_TRC_EN_SM</a> are set to 1 then RKH will include the "state or pseudostate in a compound transition" trace record. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_SM_DCH_RC</b> <p>If the <a class="el" href="rkhcfg_8h.html#a796496c4ecc39ce55b3ca57b7d4e986f">RKH_TRC_EN_SM_CLRH</a> and <a class="el" href="rkhcfg_8h.html#a04637ebe74b7f5181fcf47058cbb01d2">RKH_TRC_EN_SM</a> are set to 1 then RKH will include the "returned code from dispatch function" trace record. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_NSEQ</b> <p>If the <a class="el" href="rkhcfg_8h.html#af7c0f4d0fca41d244dc0d41cfad7300e">RKH_TRC_EN_NSEQ</a> is set to 1 then RKH will add to the trace record an incremental number (1-byte), used like a sequence number. See <a class="el" href="rkhtrc_8h.html#a2d30bb12abf7cedef15fbaf330cea32f" title="Insert the sequence number byte.">RKH_TRC_NSEQ()</a> and <a class="el" href="rkhtrc_8h.html#a51687ed69015834201c9962ab611a291" title="Insert the trace event header in the stream.">RKH_TRC_HDR()</a> macros. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_CHK</b> <p>If the <a class="el" href="rkhcfg_8h.html#a24065b97a16aeb6cca1b822764d7a35c">RKH_TRC_EN_CHK</a> is set to 1 then RKH will add to the trace record a checksum (1-byte). See <a class="el" href="rkhtrc_8h.html#a78908762cf054d5c1a711e5d3ae3d20c" title="Inserts the previously calculated checksum as: checksum = 0 - sum mod-256 -&gt; ~(sum mod-256) + 1...">RKH_TRC_CHK()</a> macro. </p>
 </li>
<li>Define the macro <b>RKH_TRC_EN_TSTAMP</b> <p>If the <a class="el" href="rkhcfg_8h.html#a293a5e3a0cb5a241c64793f06ac653d9">RKH_TRC_EN_TSTAMP</a> is set to 1 then RKH will add to the trace record a timestamp field. It's configurable by means of <a class="el" href="rkhcfg_8h.html#a7578c16664c9e40b84a22e10ec3d44f3">RKH_TRC_SIZEOF_TSTAMP</a>. </p>
 </li>
<li>Define the macro <b>RKH_TRC_SIZEOF_TSTAMP</b> <p>Specify the number of bytes (size) used by the trace record timestamp. The valid values [in bits] are 8, 16 or 32. Default is 16. </p>
 </li>
<li>Define the macro <b>RKH_TRC_SIZEOF_STREAM</b> <p>Specify the maximum number of trace events in the stream. The smaller this number, the lower the RAM consumption. </p>
 </li>
<li>Define the macro <b>RKH_TRC_SIZEOF_POINTER</b> <p>Specify the size of void pointer. The valid values [in bits] are 16 or 32. Default is 32. See <a class="el" href="rkhtrc_8h.html#a11d021b2ee9cb943fa3d6fec6a33401e" title="Insert a object address as trace record argument.">RKH_TRC_SYM()</a> macro. </p>
</li>
</ul>
<p>See <a class="el" href="cfg.html">Configuration</a> section for more information about that.</p>
<hr/>
 <h2><a class="anchor" id="trfn"></a>
Implementing the trace session support</h2>
<p>For using the native trace facility the user should implement several functions which are platform and application specific. These function prototypes are definied within <b><a class="el" href="rkh_8h.html" title="RKH platform-independent interface.">rkh.h</a></b> file and listed below:</p>
<ul>
<li><b><a class="el" href="rkh_8h.html#a01e6ed5f8d81d1e3ec5bf32d44a4bab6" title="Open the tracing session.">rkh_trc_open()</a></b> <p>This function is application-specific and the user needs to define it. At a minimum, the function must configure the trace stream by calling <a class="el" href="rkhtrc_8h.html#a8b7d1e9c3b57e75d0b5289282afdd10e" title="Initializes the RKH&#39;s trace record service.">rkh_trc_init()</a> function.</p>
<p>Example:</p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">void</span> 
    <a class="code" href="rkh_8h.html#a01e6ed5f8d81d1e3ec5bf32d44a4bab6" title="Open the tracing session.">rkh_trc_open</a>( <span class="keywordtype">void</span> )
    {
        <a class="code" href="rkhtrc_8h.html#a8b7d1e9c3b57e75d0b5289282afdd10e" title="Initializes the RKH&#39;s trace record service.">rkh_trc_init</a>();
        <a class="code" href="rkhtrc_8h.html#a88a14ad1c20c7ebcd54c30a1265a056e" title="Starts or stops the tracing session.">rkh_trc_control</a>( RKH_TRC_START );

        <span class="keywordflow">if</span>( ( fdbg = fopen( <span class="stringliteral">&quot;../ahlog.txt&quot;</span>, <span class="stringliteral">&quot;w+&quot;</span> ) ) == NULL )
        {
            perror( <span class="stringliteral">&quot;Can&#39;t open file\n&quot;</span> );
            exit( EXIT_FAILURE );
        }
<span class="preprocessor">    #if BIN_TRACE == 1</span>
<span class="preprocessor"></span>        <span class="keywordflow">if</span>( ( ftbin = fopen( <span class="stringliteral">&quot;../ftbin&quot;</span>, <span class="stringliteral">&quot;w+b&quot;</span> ) ) == NULL )
        {
            perror( <span class="stringliteral">&quot;Can&#39;t open file\n&quot;</span> );
            exit( EXIT_FAILURE );
        }
<span class="preprocessor">    #endif</span>
<span class="preprocessor"></span>        trazer_init();
    }
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><b><a class="el" href="rkhtrc_8h.html" title="Platform-independent interface for RKH trace facility.">rkhtrc.h</a></b> file. </dd></dl>
</li>
</ul>
<ul>
<li><b><a class="el" href="rkh_8h.html#a82ea03425018b8a70571b3499b70e8d3" title="Close the tracing session.">rkh_trc_close()</a></b> <p>This function is application-specific and the user needs to define it. At a minimum, the function must configure the trace stream by calling <a class="el" href="rkhtrc_8h.html#a8b7d1e9c3b57e75d0b5289282afdd10e" title="Initializes the RKH&#39;s trace record service.">rkh_trc_init()</a> function.</p>
<p>Example:</p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">void</span> 
    <a class="code" href="rkh_8h.html#a82ea03425018b8a70571b3499b70e8d3" title="Close the tracing session.">rkh_trc_close</a>( <span class="keywordtype">void</span> )
    {
        fclose( fdbg );
<span class="preprocessor">    #if BIN_TRACE == 1</span>
<span class="preprocessor"></span>        fclose( ftbin );
<span class="preprocessor">    #endif</span>
<span class="preprocessor">    }</span>
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><b><a class="el" href="rkhtrc_8h.html" title="Platform-independent interface for RKH trace facility.">rkhtrc.h</a></b> file. </dd></dl>
</li>
</ul>
<ul>
<li><b><a class="el" href="rkh_8h.html#a40281729b441d54e4118a6809540bb2f" title="Platform-dependent macro flushing the trace stream.">rkh_trc_flush()</a></b> <p>This function is application-specific and the user needs to define it. When the RKH trace an event, all the information related to it has to be stored somewhere before it can be retrieved, in order to be analyzed. This place is a trace stream. Frequently, events traced are stored in the stream until it is flushed.</p>
<p>Example:</p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">void</span> 
    <a class="code" href="rkh_8h.html#a40281729b441d54e4118a6809540bb2f" title="Platform-dependent macro flushing the trace stream.">rkh_trc_flush</a>( <span class="keywordtype">void</span> )
    {
        rkhui8_t *d;
        
        <span class="keywordflow">while</span>( ( d = <a class="code" href="rkhtrc_8h.html#a010da69e7e79a10723f60d37e60be609" title="Retrieves a pointer to oldest stored byte in the trace stream. Frequently, this function is used by t...">rkh_trc_get</a>() ) != ( rkhui8_t* )0 )
        {
            ftbin_flush( d );
            trazer_parse( *d );
        }
    }
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><b><a class="el" href="rkhtrc_8h.html" title="Platform-independent interface for RKH trace facility.">rkhtrc.h</a></b> file. </dd></dl>
</li>
</ul>
<ul>
<li><b><a class="el" href="rkh_8h.html#ac289dc76e3dc4fdc23691782caa3aab9" title="Retrieves a timestamp to be placed in a trace event.">rkh_trc_getts()</a></b> <p>This function is application-specific and the user needs to define it. At a minimum, the function must configure the trace stream by calling <a class="el" href="rkhtrc_8h.html#a8b7d1e9c3b57e75d0b5289282afdd10e" title="Initializes the RKH&#39;s trace record service.">rkh_trc_init()</a> function. The data returned is defined in compile-time by means of RKH_SIZEOF_TSTAMP.</p>
<p>Example:</p>
<div class="fragment"><pre class="fragment">    <a class="code" href="rkhtrc_8h.html#a35f6c91d6f5a83e634f757e867290186" title="Defines the size of trace timestamp.">RKHTS_T</a> 
    <a class="code" href="rkh_8h.html#ac289dc76e3dc4fdc23691782caa3aab9" title="Retrieves a timestamp to be placed in a trace event.">rkh_trc_getts</a>( <span class="keywordtype">void</span> )
    {
        <span class="keywordflow">return</span> ( <a class="code" href="rkhtrc_8h.html#a35f6c91d6f5a83e634f757e867290186" title="Defines the size of trace timestamp.">RKHTS_T</a> )clock();
    }
</pre></div><dl class="return"><dt><b>Returns:</b></dt><dd>Timestamp (RKHTS_T data type).</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><b><a class="el" href="rkhtrc_8h.html" title="Platform-independent interface for RKH trace facility.">rkhtrc.h</a></b> file. </dd></dl>
</li>
</ul>
<hr/>
 <h2><a class="anchor" id="trfil"></a>
Using runtime trace filters</h2>
<p>Also, the streams support runtime filtering. The application can define and apply a filter to a trace stream. Basically, the filter establishes which event types the stream is accepting (and hence storing) and which are not. Therefore, trace events corresponding to types which are filtered out from the stream will not be stored in the stream. The stream in the system can potentially be applied a different filters. This filter can be applied, removed or changed at any time. A filter could be applied either specific trace event or all events from a specific group.</p>
<p><em>Emit or suppress all trace events from a specific group</em></p>
<p>The stream is initially created with an empty filter (that is, without filtering any event type). If this is not the required behavior, the application can build a set of event types, include the appropriate event types in it, and apply it as a filter to the stream. After that, the stream will reject any event whose type is in the filter set.</p>
<p>Gathering many events generates a lot of data, which requires memory and processor time. It also makes the task of interpreting the data more difficult. Because the amount of data that the instrumented framework generates can be overwhelming, the RKH supports several types of filters that can use it to reduce the amount of data to be processed. The available groups are enumerated in <a class="el" href="rkhtrc_8h.html#aefcd4080db2413c984279dca9f0246b7" title="RKH group of trace events.">RKH_TRC_GROUPS</a>.</p>
<p>Please use <a class="el" href="rkhtrc_8h.html#a9387ef53b10bb4ac4a9297dbea049054" title="Suppress all trace events from a specific group.">RKH_FILTER_ON_GROUP()</a>, or <a class="el" href="rkhtrc_8h.html#af8281a1c79d543f23ff09a33ed3d6efb" title="Emit all trace events from a specific group.">RKH_FILTER_OFF_GROUP()</a> macros to do that.</p>
<p>Example:</p>
<div class="fragment"><pre class="fragment">...
RKH_FILTER_ON_GROUP( <a class="code" href="rkhtrc_8h.html#ac9e89769f649e518fb07605f627540e6" title="Emit or suppress tracing for all groups and events.">RKH_TRC_ALL_GROUPS</a> );
<a class="code" href="rkhtrc_8h.html#a6a34d237fcca3526f478ce6eb5a31900" title="Suppress one trace events from a specific group.">RKH_FILTER_ON_EVENT</a>( <a class="code" href="rkhtrc_8h.html#a9eb52588db559fc69dfea50547739edf" title="Emit or suppress all trace events.">RKH_TRC_ALL_EVENTS</a> );
...
</pre></div><p><em>Emit or suppress a specific event</em></p>
<p>The stream is initially created with an empty filter (that is, without filtering any event type). If this is not the required behavior, the application can build a set of event types, include the appropriate event types in it, and apply it as a filter to the stream. After that, the stream will reject any event whose type is in the filter set.</p>
<p>Gathering many events generates a lot of data, which requires memory and processor time. It also makes the task of interpreting the data more difficult. Because the amount of data that the instrumented framework generates can be overwhelming, the RKH supports several types of filters that can use it to reduce the amount of data to be processed. The available events are enumerated in <a class="el" href="rkhtrc_8h.html#a4705ca08d69d80441ecb18b0c9f36c8a" title="RKH trace events.">RKH_TRC_EVENTS</a>.</p>
<p>Please use <a class="el" href="rkhtrc_8h.html#a6a34d237fcca3526f478ce6eb5a31900" title="Suppress one trace events from a specific group.">RKH_FILTER_ON_EVENT()</a>, or <a class="el" href="rkhtrc_8h.html#a39abbf4845ab85a377a402b4655526fd" title="Emit one trace events from a specific group.">RKH_FILTER_OFF_EVENT()</a> macros to do that.</p>
<p>Example:</p>
<div class="fragment"><pre class="fragment">...
RKH_FILTER_OFF_GROUP_EVENT( <a class="code" href="rkhtrc_8h.html#aefcd4080db2413c984279dca9f0246b7ad37b6275057086086eea4f44038946d4" title="Memory Pool group (MP)">RKH_TRCG_MP</a>, <a class="code" href="rkhtrc_8h.html#a4705ca08d69d80441ecb18b0c9f36c8aaeebdc1b69736830bb77b8ff0efb1264e">RKH_TRCE_MP_INIT</a> );
<a class="code" href="rkhtrc_8h.html#acff69866423c3151d21223b7ea45e1c8" title="Emit a specific event in a specific group.">RKH_FILTER_OFF_GROUP_EVENT</a>( <a class="code" href="rkhtrc_8h.html#aefcd4080db2413c984279dca9f0246b7ab5db29ec849764d0bd31e0733f83f0f2" title="State Machine group (SM)">RKH_TRCG_SM</a>, <a class="code" href="rkhtrc_8h.html#a4705ca08d69d80441ecb18b0c9f36c8aa28f0b27de6edd3d172c06bbfe8e39b94">RKH_TRCE_SM_DCH</a> );
<a class="code" href="rkhtrc_8h.html#acff69866423c3151d21223b7ea45e1c8" title="Emit a specific event in a specific group.">RKH_FILTER_OFF_GROUP_EVENT</a>( <a class="code" href="rkhtrc_8h.html#aefcd4080db2413c984279dca9f0246b7a828d119b03e233bcba386924861ee90a" title="Framework RKH group (RKH)">RKH_TRCG_RKH</a>, <a class="code" href="rkhtrc_8h.html#a4705ca08d69d80441ecb18b0c9f36c8aab88f505e35ee563b56c01693e2ed5b45">RKH_TRCE_OBJ</a> );
<a class="code" href="rkhtrc_8h.html#acff69866423c3151d21223b7ea45e1c8" title="Emit a specific event in a specific group.">RKH_FILTER_OFF_GROUP_EVENT</a>( <a class="code" href="rkhtrc_8h.html#aefcd4080db2413c984279dca9f0246b7a828d119b03e233bcba386924861ee90a" title="Framework RKH group (RKH)">RKH_TRCG_RKH</a>, <a class="code" href="rkhtrc_8h.html#a4705ca08d69d80441ecb18b0c9f36c8aaa17b33a66d33f9501db6b7f7a7c5a574">RKH_TRCE_SIG</a> );
<a class="code" href="rkhtrc_8h.html#acff69866423c3151d21223b7ea45e1c8" title="Emit a specific event in a specific group.">RKH_FILTER_OFF_GROUP_EVENT</a>( <a class="code" href="rkhtrc_8h.html#aefcd4080db2413c984279dca9f0246b7a6281cdfdb1de9ffe378b034eae8ac935" title="Timer group (TIM)">RKH_TRCG_TIM</a>, <a class="code" href="rkhtrc_8h.html#a4705ca08d69d80441ecb18b0c9f36c8aa25d0bee0a17e2345e06196d2668fd1ae">RKH_TRCE_TIM_START</a> );
<a class="code" href="rkhtrc_8h.html#acff69866423c3151d21223b7ea45e1c8" title="Emit a specific event in a specific group.">RKH_FILTER_OFF_GROUP_EVENT</a>( <a class="code" href="rkhtrc_8h.html#aefcd4080db2413c984279dca9f0246b7a6281cdfdb1de9ffe378b034eae8ac935" title="Timer group (TIM)">RKH_TRCG_TIM</a>, <a class="code" href="rkhtrc_8h.html#a4705ca08d69d80441ecb18b0c9f36c8aac67d1706c74f11931b58b3e407dcdb8f">RKH_TRCE_TIM_TOUT</a> );
...
</pre></div><hr/>
 <h2><a class="anchor" id="trtbl"></a>
Trace event table</h2>
<p>This section provides a table that lists all the trace events and summarizes the data included for each.</p>
<p><em>Memory Pool (MP)</em></p>
<ul>
<li><b>RKH_TRCR_MP_INIT</b> <p>Desc = initialize a memory block pool<br/>
 Group = RKH_TRCG_MP<br/>
 Id = RKH_TRCE_MP_INIT<br/>
 Args = memory pool, nblock<br/>
 </p>
 </li>
<li><b>RKH_TRCR_MP_GET</b> <p>Desc = get a block from the pool<br/>
 Group = RKH_TRCG_MP<br/>
 Id = RKH_TRCE_MP_GET<br/>
 Args = memory pool, nfree<br/>
 </p>
 </li>
<li><b>RKH_TRCR_MP_PUT</b> <p>Desc = put the block to the pool<br/>
 Group = RKH_TRCG_MP<br/>
 id = RKH_TRCE_MP_PUT<br/>
 Args = memory pool, nfree<br/>
 </p>
</li>
</ul>
<p><em>Queue (RQ)</em></p>
<ul>
<li><b>RKH_TRCR_RQ_INIT</b> <p>Desc = initialize a queue<br/>
 Group = RKH_TRCG_RQ<br/>
 Id = RKH_TRCE_RQ_INIT<br/>
 Args = queue, sma, nelem<br/>
 </p>
 </li>
<li><b>RKH_TRCR_RQ_GET</b> <p>Desc = get a element from the queue<br/>
 Group = RKH_TRCG_RQ<br/>
 Id = RKH_TRCE_RQ_GET<br/>
 Args = queue, qty<br/>
 </p>
 </li>
<li><b>RKH_TRCR_RQ_FIFO</b> <p>Desc = put a element to the queue in a FIFO manner<br/>
 Group = RKH_TRCG_RQ<br/>
 Id = RKH_TRCE_RQ_FIFO<br/>
 Args = queue, qty<br/>
 </p>
 </li>
<li><b>RKH_TRCR_RQ_LIFO</b> <p>Desc = put a element to the queue in a LIFO manner<br/>
 Group = RKH_TRCG_RQ<br/>
 Id = RKH_TRCE_RQ_LIFO<br/>
 Args = queue, qty<br/>
 </p>
 </li>
<li><b>RKH_TRCR_RQ_FULL</b> <p>Desc = query the queue<br/>
 Group = RKH_TRCG_RQ<br/>
 Id = RKH_TRCE_RQ_FULL<br/>
 Args = queue<br/>
 </p>
 </li>
<li><b>RKH_TRCR_RQ_DEPLETE</b> <p>Desc = deplete the queue<br/>
 Group = RKH_TRCG_RQ<br/>
 Id = RKH_TRCE_RQ_DPT<br/>
 Args = queue<br/>
 </p>
 </li>
<li><b>RKH_TRCR_RQ_GET_LAST</b> <p>Desc = get the last element from the queue<br/>
 Group = RKH_TRCG_RQ<br/>
 Id = RKH_TRCE_RQ_GET_LAST<br/>
 Args = queue<br/>
 </p>
</li>
</ul>
<p><em>State Machine Application (SMA)</em></p>
<ul>
<li><b>RKH_TRCR_SMA_ACT</b> <p>Desc = activate a SMA<br/>
 Group = RKH_TRCG_SMA<br/>
 Id = RKH_TRCE_SMA_ACT<br/>
 Args = sma<br/>
 </p>
 </li>
<li><b>RKH_TRCR_SMA_TERM</b> <p>Desc = terminate a SMA<br/>
 Group = RKH_TRCG_SMA<br/>
 Id = RKH_TRCE_SMA_ACT<br/>
 Args = sma<br/>
 </p>
 </li>
<li><b>RKH_TRCR_SMA_GET</b> <p>Desc = get a event from the SMA's queue<br/>
 Group = RKH_TRCG_SMA<br/>
 Id = RKH_TRCE_SMA_ACT<br/>
 Args = sma, signal<br/>
 </p>
 </li>
<li><b>RKH_TRCR_SMA_FIFO</b> <p>Desc = send a event to SMA's queue in a FIFO manner<br/>
 Group = RKH_TRCG_SMA<br/>
 Id = RKH_TRCE_SMA_FIFO<br/>
 Args = sma, signal<br/>
 </p>
 </li>
<li><b>RKH_TRCR_SMA_LIFO</b> <p>Desc = send a event to SMA's queue in a LIFO manner<br/>
 Group = RKH_TRCG_SMA<br/>
 Id = RKH_TRCE_SMA_LIFO<br/>
 Args = sma, signal<br/>
 </p>
 </li>
<li><b>RKH_TRCR_SMA_REG</b> <p>Desc = register a SMA<br/>
 Group = RKH_TRCG_SMA<br/>
 Id = RKH_TRCE_SMA_REG<br/>
 Args = sma, prio<br/>
 </p>
 </li>
<li><b>RKH_TRCR_SMA_UNREG</b> <p>Desc = unregister a SMA<br/>
 Group = RKH_TRCG_SMA<br/>
 Id = RKH_TRCE_SMA_UNREG<br/>
 Args = sma, prio<br/>
 </p>
</li>
</ul>
<p><em>State machine (SM)</em></p>
<ul>
<li><b>RKH_TRCR_SM_INIT</b> <p>Desc = start (initialize) a state machine<br/>
 Group = RKH_TRCG_SM<br/>
 Id = RKH_TRCE_SM_INIT<br/>
 Args = sma, initial state<br/>
 </p>
 </li>
<li><b>RKH_TRCR_SM_DCH</b> <p>Desc = dispatch an event to a state machine<br/>
 Group = RKH_TRCG_SM<br/>
 Id = RKH_TRCE_SM_DCH<br/>
 Args = sma, signal<br/>
 </p>
 </li>
<li><b>RKH_TRCR_SM_CLRH</b> <p>Desc = clear history pseudostate<br/>
 Group = RKH_TRCG_SM<br/>
 Id = RKH_TRCE_SM_CLRH<br/>
 Args = sma, history pseudostate<br/>
 </p>
 </li>
<li><b>RKH_TRCR_SM_TRN</b> <p>Desc = source and target state of transition<br/>
 Group = RKH_TRCG_SM<br/>
 Id = RKH_TRCE_SM_TRN<br/>
 Args = sma, source state, target state<br/>
 </p>
 </li>
<li><b>RKH_TRCR_SM_STATE</b> <p>Desc = final state of transition<br/>
 Group = RKH_TRCG_SM<br/>
 Id = RKH_TRCE_SM_STATE<br/>
 Args = sma, final state<br/>
 </p>
 </li>
<li><b>RKH_TRCR_SM_ENSTATE</b> <p>Desc = entry state<br/>
 Group = RKH_TRCG_SM<br/>
 Id = RKH_TRCE_SM_ENSTATE<br/>
 Args = sma, entry state<br/>
 </p>
 </li>
<li><b>RKH_TRCR_SM_EXSTATE</b> <p>Desc = exit state<br/>
 Group = RKH_TRCG_SM<br/>
 Id = RKH_TRCE_SM_EXSTATE<br/>
 Args = sma, exit state<br/>
 </p>
 </li>
<li><b>RKH_TRCR_SM_NENEX</b> <p>Desc = number of entry and exit states in transition<br/>
 Group = RKH_TRCG_SM<br/>
 Id = RKH_TRCE_SM_NENEX<br/>
 Args = sma, nenex<br/>
 </p>
 </li>
<li><b>RKH_TRCR_SM_NTRNACT</b> <p>Desc = number of executed actions in transition<br/>
 Group = RKH_TRCG_SM<br/>
 Id = RKH_TRCE_SM_NTRNACT<br/>
 Args = sma, nta, nts<br/>
 </p>
 </li>
<li><b>RKH_TRCR_SM_CSTATE</b> <p>Desc = state or pseudostate in a compound transition<br/>
 Group = RKH_TRCG_SM<br/>
 Id = RKH_TRCE_SM_CSTATE<br/>
 Args = sma, state/pseudosstate<br/>
 </p>
 </li>
<li><b>RKH_TRCR_SM_DCH_RC</b> <p>Desc = returned code from dispatch function<br/>
 Group = RKH_TRCG_SM<br/>
 Id = RKH_TRCE_SM_DCH_RC<br/>
 Args = sma, rc<br/>
 </p>
</li>
</ul>
<p><em>Timer (TIM)</em></p>
<ul>
<li><b>RKH_TRCR_TIM_INIT</b> <p>Desc = initialize a timer<br/>
 Group = RKH_TRCG_TIM<br/>
 Id = RKH_TRCE_TIM_INIT<br/>
 Args = timer, signal<br/>
 </p>
 </li>
<li><b>RKH_TRCR_TIM_START</b> <p>Desc = start a timer<br/>
 Group = RKH_TRCG_TIM<br/>
 Id = RKH_TRCE_TIM_START<br/>
 Args = timer, sma, nticks<br/>
 </p>
 </li>
<li><b>RKH_TRCR_TIM_RESTART</b> <p>Desc = restart a timer<br/>
 Group = RKH_TRCG_TIM<br/>
 Id = RKH_TRCE_TIM_RESTART<br/>
 Args = timer, nticks<br/>
 </p>
 </li>
<li><b>RKH_TRCR_TIM_STOP</b> <p>Desc = stop a timer<br/>
 Group = RKH_TRCG_TIM<br/>
 Id = RKH_TRCE_TIM_STOP<br/>
 Args = timer<br/>
 </p>
 </li>
<li><b>RKH_TRCR_TIM_TOUT</b> <p>Desc = timer expired<br/>
 Group = RKH_TRCG_TIM<br/>
 Id = RKH_TRCE_TIM_TOUT<br/>
 Args = timer<br/>
 </p>
 </li>
<li><b>RKH_TRCR_TIM_REM</b> <p>Desc = remove timer from the active timer list<br/>
 Group = RKH_TRCG_TIM<br/>
 Id = RKH_TRCE_TIM_REM<br/>
 Args = timer<br/>
 </p>
 </li>
<li><b>RKH_TRCR_TIM_ATTEMPT_STOP</b> <p>Desc = attempt stopped a inactive timer<br/>
 Group = RKH_TRCG_TIM<br/>
 Id = RKH_TRCE_TIM_ATTEMPT_STOP<br/>
 Args = timer<br/>
 </p>
</li>
</ul>
<p><em>Framework (RKH)</em></p>
<ul>
<li><b>RKH_TRCR_RKH_EN</b> <p>Desc = initialize the RKH<br/>
 Group = RKH_TRCG_RKH<br/>
 Id = RKH_TRCE_RKH_EN<br/>
 Args = <br/>
 </p>
 </li>
<li><b>RKH_TRCR_RKH_EX</b> <p>Desc = exit the RKH<br/>
 Group = RKH_TRCG_RKH<br/>
 Id = RKH_TRCE_RKH_EX<br/>
 Args = <br/>
 </p>
 </li>
<li><b>RKH_TRCR_RKH_EPREG</b> <p>Desc = event pool register<br/>
 Group = RKH_TRCG_RKH<br/>
 Id = RKH_TRCE_RKH_EPREG<br/>
 Args = event pool index, storage size, event size<br/>
 </p>
 </li>
<li><b>RKH_TRCR_RKH_AE</b> <p>Desc = allocate an event<br/>
 Group = RKH_TRCG_RKH<br/>
 Id = RKH_TRCE_RKH_AE<br/>
 Args = event size, signal<br/>
 </p>
 </li>
<li><b>RKH_TRCR_RKH_GC</b> <p>Desc = attempt to recycle an event<br/>
 Group = RKH_TRCG_RKH<br/>
 Id = RKH_TRCE_RKH_GC<br/>
 Args = signal<br/>
 </p>
 </li>
<li><b>RKH_TRCR_RKH_GCR</b> <p>Desc = effective recycling event<br/>
 Group = RKH_TRCG_RKH<br/>
 Id = RKH_TRCE_RKH_GCR<br/>
 Args = signal<br/>
 </p>
 </li>
<li><b>RKH_TRCR_RKH_DEFER</b> <p>Desc = defer an event<br/>
 Group = RKH_TRCG_RKH<br/>
 Id = RKH_TRCE_RKH_DEFER<br/>
 Args = signal<br/>
 </p>
 </li>
<li><b>RKH_TRCR_RKH_RCALL</b> <p>Desc = recall an event<br/>
 Group = RKH_TRCG_RKH<br/>
 Id = RKH_TRCE_RKH_RCALL<br/>
 Args = sma, signal<br/>
 </p>
</li>
</ul>
<p><em>Symbol entry table for objects</em></p>
<ul>
<li><b>RKH_TRCR_RKH_OBJ</b> <p>Desc = entry symbol table for memory object<br/>
 Group = RKH_TRCG_RKH<br/>
 Id = RKH_TRCE_OBJ<br/>
 Args = object address<br/>
</p>
<p>e.g.<br/>
 Associates the address of the object, in memory with its symbolic name.</p>
<div class="fragment"><pre class="fragment">    ...
    <span class="keyword">static</span> <span class="keywordtype">int</span> g_status; 
    <span class="keyword">static</span> <a class="code" href="struct_r_k_h_t___t.html" title="Defines the data structure used to maintain information that allows the timer-handling facility to up...">RKHT_T</a> tdll; 

    <a class="code" href="rkhtrc_8h.html#a34c7d44996769e01900b01d23a584af8">RKH_TRCR_RKH_OBJ</a>( &amp;g_status );
    <a class="code" href="rkhtrc_8h.html#a34c7d44996769e01900b01d23a584af8">RKH_TRCR_RKH_OBJ</a>( &amp;tdll );
</pre></div> </li>
</ul>
<p><em>Symbol entry table for event signals</em></p>
<ul>
<li><b>RKH_TRCR_RKH_SIG</b> <p>Desc = entry symbol table for signal<br/>
 Group = RKH_TRCG_RKH<br/>
 Id = RKH_TRCE_SIG<br/>
 Args = signal number<br/>
</p>
<p>e.g.<br/>
 Associates the numerical value of the event signal to the symbolic name of the signal.</p>
<div class="fragment"><pre class="fragment">    <span class="comment">// in the dedicated application header file resides the signal </span>
    <span class="comment">// enumeration</span>
    
    <span class="keyword">enum</span>
    {
        ...
        PWR_FAIL,
        PRESS_ENTER,
        ...
    };

    <span class="comment">// frequently, the macro RKH_TRCR_RKH_SIG() is used in the </span>
    <span class="comment">// \b main.c file.</span>

    <a class="code" href="rkhtrc_8h.html#a71ab3ab8b73cb7f259941c163cb747b8">RKH_TRCR_RKH_SIG</a>( PWR_FAIL );
    <a class="code" href="rkhtrc_8h.html#a71ab3ab8b73cb7f259941c163cb747b8">RKH_TRCR_RKH_SIG</a>( PRESS_ENTER );
</pre></div> </li>
</ul>
<hr/>
 <h2><a class="anchor" id="trtrazer"></a>
TRAZER - The fundamental RKH's tracing tool</h2>
<p>Trazer is a visualization tool that works in conjuntion with the RKH framework built in trace facility. Trazer gives the possibility to display selectively the recording of all events of your system, state machines, queues, timers, etc. Trazer helps you to faster troubleshooting especially on complex problems where a debugger is not sufficient, by providing a simple consolidated, human-readable textual output.</p>
<p>Given the RKH cross plataform portability, trace data may come from 8, 16, or 32-bits platforms. In order to that Trazer need to be configured to support this diversity of plataform and the wide range of RKH framework configurations.</p>
<p>Here is the <a class="el" href="trazer.html">Trazer Reference Manual</a> </p>
</div></div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 9 2012 13:05:36 for RKH by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
