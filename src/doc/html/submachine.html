<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>RKH: Using submachine states</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">RKH
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="_usage.html">Representing a state machine: step by step</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Using submachine states </div>  </div>
</div>
<div class="contents">
<div class="textblock"><div class="image">
<img src="rkh_bunner.jpg" alt="rkh_bunner.jpg"/>
</div>
<p><br/>
 Prev: <a class="el" href="running.html">Running</a><br/>
 Next: <a class="el" href="_usage.html">Representing a state machine: step by step</a><br/>
<br/>
</p>
<p>A submachine state is a kind of a state that actually refers to another defined state machine. A submachine state is logically equivalent to the insertion of the referenced state machine as a composite state in the place of the submachine state. Consequently, every entrance to a submachine state is equivalent to the corresponding entrance to the inserted (referenced) composite state. In particular, it can be entered thruough its initial pseudostate (as any other composite state), or through one of its entry points.</p>
<p>Similary, every exit from a submachine state is equivalent to the corresponding exit from the inserted composite state. It can be exited through one of its exit points. When it is exited through its exit point the effect of the transition targeting the exit point is executed first, followed by the exit behavior of the composite state.</p>
<p>The entry, exit, and behavior actions and internal transitions are defined as part of the state. Submachine state is a decomposition mechanism that allows factoring of common behaviors and their reuse.</p>
<p>The purpose od defining submachine states is to decompose and localize repetitive parts because the same state machine can be referenced from more than one submachine state.</p>
<p>The diagram in following figure shows a fragment from a state machine diagram in which a submachine state (the <code>SB</code>) is referenced.</p>
<p><a class="anchor" id="fig_sbm1"></a> </p>
<div class="image">
<img src="sbm1.png" alt="sbm1.png"/>
<div class="caption">
Submachine state</div></div>
<p> In the above example, the transition triggered by event <code>TWO</code> will terminate on entry point <code>ENS12</code> of the <code>SB</code> state machine. The <code>ONE</code> transition implies taking of the default transition of the <code>SB</code> and executes the <code>act5()</code> action. The transition emanating from the <code>EX1S12</code> exit point of the submachine will execute the <code>act1()</code> behavior in addition to what is executed within the <code>SB</code> state machine. Idem transition emanating from the <code>EX2S12</code>. This transition must have been triggered within the <code>SB</code> state machine. Finally, the transition emanating from the edge of the submachine state is triggered by event <code>THREE</code>.</p>
<p>The following figure is an example of a state machine <code>SB</code> defined with two exit points, <code>EXPNT1</code> and <code>EXPNT2</code>, and one entry point <code>ENPNT</code>.</p>
<p><a class="anchor" id="fig_sbm2"></a> </p>
<div class="image">
<img src="sbm2.png" alt="sbm2.png"/>
<div class="caption">
State machine with two exit points and one entry point</div></div>
<p> In the following figure the state machine shown above is referenced twice in a submachine state <code>S12</code> and <code>S2</code>.</p>
<p><a class="anchor" id="fig_sbm3"></a> </p>
<div class="image">
<img src="sbm3.png" alt="sbm3.png"/>
<div class="caption">
Submachine state with usage of exit and entry points</div></div>
<p>The following figure highlights the submachine states <code>S12</code> and <code>S2</code>. Also, shows its implementation using the RKH framework.</p>
<p><a class="anchor" id="sbm4"></a></p>
<div class="image">
<img src="sbm4.jpg" alt="sbm4.jpg"/>
<div class="caption">
Submachine states</div></div>
<p> The following figure highlights the submachine state machine <code>SB</code>. Also, shows its implementation using the RKH framework.</p>
<p><a class="anchor" id="sbm5"></a></p>
<div class="image">
<img src="sbm5.jpg" alt="sbm5.jpg"/>
<div class="caption">
Referenced state machine</div></div>
<p> Prev: <a class="el" href="running.html">Running</a><br/>
 Next: <a class="el" href="_usage.html">Representing a state machine: step by step</a><br/>
<br/>
 </p>
</div></div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 9 2012 13:05:36 for RKH by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
